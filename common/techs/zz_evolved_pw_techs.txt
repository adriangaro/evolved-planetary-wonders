# Panopticon - Penal Industries
pw_tech_panopticon_penal_industries = {
	area = society
	cost = @pw_panopticon_tech_cost
	tier = 3
	category = { statecraft }
	prerequisites = { pw_tech_utilitarian_vigilance }
	weight = @tier3weight2

	potential = {
		tec_pw_is_elitist_or_competitive = yes
		any_owned_planet = {
			has_active_building = pw_building_panopticon
		}
	}

	modifier = {
		custom_tooltip = pw_tech_panopticon_penal_industries_tooltip
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}

		modifier = {
			factor = 1.25
			tec_pw_is_authoritarian = yes
		}

		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_authoritarian
		}

		modifier = {
			factor = 2
			has_valid_civic = civic_police_state
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_cutthroat_politics
		}

		modifier = {
			factor = 0.25
			has_valid_civic = civic_beacon_of_liberty
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
	}
}

# Panopticon - Criminal Reintegration
pw_tech_panopticon_criminal_reintegration = {
	area = society
	cost = @pw_panopticon_tech_cost
	tier = 3
	category = { statecraft }
	prerequisites = { pw_tech_utilitarian_vigilance }
	weight = @tier3weight3

	potential = {
		tec_pw_is_egalitarian = yes
		any_owned_planet = {
			has_active_building = pw_building_panopticon
		}
	}

	modifier = {
		custom_tooltip = pw_tech_panopticon_criminal_reintegration_tooltip
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}

		modifier = {
			factor = 2
			has_valid_civic = civic_police_state
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_cutthroat_politics
		}

		modifier = {
			factor = 0.25
			has_valid_civic = civic_beacon_of_liberty
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
	}
}


# Transplanetary Logistics System
pw_tech_transplanetary_logistics = {
	area = society
	category = { new_worlds }
	tier = 5
	cost = @pw_tech_cost_4
	prerequisites = {
		pw_tech_planetary_mega_engineering
		tech_planetary_infrastructure_2
		tech_capital_productivity_3
	}
	weight = @tier5weight1
	is_rare = yes

	potential = {
		is_gestalt = no
		tec_pw_is_pluralist_or_socialism = yes
	}

	weight_modifier = {
		factor = @pw_tech_weight_mod

		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_new_worlds
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = society
				has_trait = leader_trait_spark_of_genius
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = society
				has_trait = leader_trait_curator
			}
		}

		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}

		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = pw_tech_transplanetary_logistics }
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_pluralist_or_socialism = no
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_egalitarian
		}

		modifier = {
			factor = 1.5
			tec_is_communist = yes
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_beacon_of_liberty
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 1.25
			num_pops > 100
		}

		modifier = {
			factor = 1.5
			num_pops > 200
		}

		modifier = {
			factor = 1.5
			num_pops > 300
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_new_worlds
			}
		}
	}
}

# Transplanetary Logistics System (Infrastructure Techs):

#Egalitarian Distribution Services
pw_tech_egalitarian_distribution_services = {
	area = physics
	category = { computing }
	tier = 5
	cost = @pw_tech_cost_infra
	prerequisites = {
		pw_tech_transplanetary_logistics
	}
	weight = @tier4weight3

	potential = {
		is_gestalt = no
		tec_pw_is_pluralist_or_socialism = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = physics
				has_trait = leader_trait_expertise_computing
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = physics
				has_trait = leader_trait_spark_of_genius
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = physics
				has_trait = leader_trait_curator
			}
		}

		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}

		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = pw_tech_egalitarian_distribution_services }
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_pluralist_or_socialism = no
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_egalitarian
		}

		modifier = {
			factor = 1.5
			tec_is_communist = yes
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_beacon_of_liberty
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_transplanetary_logistics_network
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = physics
				has_trait = leader_trait_expertise_computing
			}
		}
		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_transplanetary_logistics_network
			}
		}
	}
}

#Egalitarian Emergency Services
pw_tech_egalitarian_emergency_services = {
	area = society
	category = { new_worlds }
	tier = 5
	cost = @pw_tech_cost_infra
	prerequisites = {
		pw_tech_transplanetary_logistics
	}
	weight = @tier4weight3

	potential = {
		is_gestalt = no
		tec_pw_is_pluralist_or_socialism = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_new_worlds
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = society
				has_trait = leader_trait_spark_of_genius
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = society
				has_trait = leader_trait_curator
			}
		}

		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}

		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = pw_tech_egalitarian_emergency_services }
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_pluralist_or_socialism = no
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_egalitarian
		}

		modifier = {
			factor = 1.5
			tec_is_communist = yes
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_beacon_of_liberty
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_transplanetary_logistics_network
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_new_worlds
			}
		}
		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_transplanetary_logistics_network
			}
		}
	}
}

#Egalitarian Cultural Development
pw_tech_egalitarian_cultural_development = {
	area = society
	category = { statecraft }
	tier = 5
	cost = @pw_tech_cost_infra
	prerequisites = {
		pw_tech_transplanetary_logistics
	}
	weight = @tier4weight3

	potential = {
		is_gestalt = no
		tec_pw_is_pluralist_or_socialism = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = society
				has_trait = leader_trait_spark_of_genius
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = society
				has_trait = leader_trait_curator
			}
		}

		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}

		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = pw_tech_egalitarian_cultural_development }
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_pluralist_or_socialism = no
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_egalitarian
		}

		modifier = {
			factor = 1.5
			tec_is_communist = yes
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_beacon_of_liberty
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_transplanetary_logistics_network
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_transplanetary_logistics_network
			}
		}
	}
}

#Egalitarian Industrial Development
pw_tech_egalitarian_industrial_development = {
	area = engineering
	category = { industry }
	tier = 5
	cost = @pw_tech_cost_infra
	prerequisites = {
		pw_tech_transplanetary_logistics
	}
	weight = @tier4weight3

	potential = {
		is_gestalt = no
		tec_pw_is_pluralist_or_socialism = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = engineering
				has_trait = leader_trait_expertise_industry
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = engineering
				has_trait = leader_trait_spark_of_genius
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = engineering
				has_trait = leader_trait_curator
			}
		}

		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}

		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = pw_tech_egalitarian_industrial_development }
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_pluralist_or_socialism = no
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_egalitarian
		}

		modifier = {
			factor = 1.5
			tec_is_communist = yes
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_beacon_of_liberty
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_transplanetary_logistics_network
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = engineering
				has_trait = leader_trait_expertise_industry
			}
		}
		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_transplanetary_logistics_network
			}
		}
	}
}

# Transplanetary Logistics System (Shared Burdens Tech):
pw_tech_burdens_of_all = {
	area = society
	category = { statecraft }
	tier = 5
	cost = @pw_tech_cost_5
	prerequisites = {
		pw_tech_transplanetary_logistics
	}
	weight = 0
	is_rare = yes

	potential = {
		is_gestalt = no
		tec_pw_is_pluralist_or_socialism = yes
		tec_is_communist = yes
	}

	prereqfor_desc = {
		custom = {
			title = pw_tech_burdens_of_all_tooltip_title
			desc = pw_tech_burdens_of_all_tooltip_desc
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
	}
}

# Forbidden City
pw_tech_elitist_urbanism = {
	area = society
	category = { statecraft }
	tier = 5
	cost = @pw_tech_cost_4
	prerequisites = {
		pw_tech_planetary_mega_engineering
		tech_planetary_infrastructure_2
		tech_capital_productivity_3
	}
	weight = @tier5weight1
	is_rare = yes

	potential = {
		is_gestalt = no
		tec_pw_is_authoritarian = yes
	}

	weight_modifier = {
		factor = @pw_tech_weight_mod

		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = society
				has_trait = leader_trait_spark_of_genius
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = society
				has_trait = leader_trait_curator
			}
		}

		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}

		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = pw_tech_elitist_urbanism }
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_authoritarian = no
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_authoritarian
		}

		modifier = {
			factor = 1.25
			has_valid_civic = civic_corvee_system
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_aristocratic_elite
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_imperial_cult
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_slaver_guilds
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_indentured_assets
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 1.5
			is_autocracy = yes
		}

		modifier = {
			factor = 1.5
			has_authority = auth_imperial
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
	}
}

# Forbidden City (Infrastructure Techs):

#Capital Developments
pw_tech_capital_developments = {
	area = society
	category = { statecraft }
	tier = 5
	cost = @pw_tech_cost_infra
	prerequisites = {
		pw_tech_elitist_urbanism
	}
	weight = @tier4weight3

	potential = {
		is_gestalt = no
		tec_pw_is_authoritarian = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = society
				has_trait = leader_trait_spark_of_genius
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = society
				has_trait = leader_trait_curator
			}
		}

		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}

		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = pw_tech_centralized_emergency_developments }
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_authoritarian = no
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_authoritarian
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_aristocratic_elite
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_technocracy
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_exalted_priesthood
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_merchant_guilds
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}
}

#Capital Developments -> Luxury Retreat
pw_tech_capital_developments_luxury_retreat = {
	area = society
	category = { statecraft }
	tier = 4
	cost = @tier5cost1
	prerequisites = {
		pw_tech_capital_developments
		tech_resort_colonies
	}
	weight = @tier4weight3

	potential = {
		is_gestalt = no
		tec_pw_is_authoritarian = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_authoritarian = no
		}

		modifier = {
			factor = 0
			NOT = {
				any_owned_planet = {
					has_modifier = resort_colony
				}
			}
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_authoritarian
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_aristocratic_elite
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_technocracy
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_exalted_priesthood
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_merchant_guilds
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}

		modifier = {
			factor = 0.1
			NOT = {
				any_owned_planet = {
					has_modifier = resort_colony
				}
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
		modifier = {
			factor = 2
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
		modifier = {
			factor = 5
			any_owned_planet = {
				has_modifier = resort_colony
			}
		}
	}
}

#Capital Developments -> Wardens Directorate
pw_tech_capital_developments_wardens_directorate = {
	area = society
	category = { statecraft }
	tier = 4
	cost = @tier5cost1
	prerequisites = {
		pw_tech_capital_developments
		tech_penal_colonies
	}
	weight = @tier4weight3

	potential = {
		is_gestalt = no
		tec_pw_is_authoritarian = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_authoritarian = no
		}

		modifier = {
			factor = 0
			NOT = {
				any_owned_planet = {
					has_modifier = penal_colony
				}
			}
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_authoritarian
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_aristocratic_elite
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_technocracy
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_exalted_priesthood
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_merchant_guilds
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}

		modifier = {
			factor = 0.1
			NOT = {
				any_owned_planet = {
					has_modifier = penal_colony
				}
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
		modifier = {
			factor = 2
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
		modifier = {
			factor = 5
			any_owned_planet = {
				has_modifier = penal_colony
			}
		}
	}
}

#Capital Developments -> Overseers Ring
pw_tech_capital_developments_overseers_ring = {
	area = society
	category = { statecraft }
	tier = 4
	cost = @tier5cost1
	prerequisites = {
		pw_tech_capital_developments
		tech_slave_colonies
	}
	weight = @tier4weight3

	potential = {
		is_gestalt = no
		tec_pw_is_authoritarian = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_authoritarian = no
		}

		modifier = {
			factor = 0
			NOT = {
				any_owned_planet = {
					has_modifier = slave_colony
				}
			}
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_authoritarian
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_aristocratic_elite
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_technocracy
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_exalted_priesthood
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_merchant_guilds
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}

		modifier = {
			factor = 0.1
			NOT = {
				any_owned_planet = {
					has_modifier = slave_colony
				}
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
		modifier = {
			factor = 2
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
		modifier = {
			factor = 5
			any_owned_planet = {
				has_modifier = slave_colony
			}
		}
	}
}

#Centralized Emergency Developments
pw_tech_centralized_emergency_developments = {
	area = engineering
	category = { industry }
	tier = 5
	cost = @pw_tech_cost_infra
	prerequisites = {
		pw_tech_elitist_urbanism
	}
	weight = @tier4weight3

	potential = {
		is_gestalt = no
		tec_pw_is_authoritarian = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = engineering
				has_trait = leader_trait_expertise_industry
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = engineering
				has_trait = leader_trait_spark_of_genius
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = engineering
				has_trait = leader_trait_curator
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_authoritarian = no
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_authoritarian
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_aristocratic_elite
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_technocracy
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_exalted_priesthood
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_merchant_guilds
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = engineering
				has_trait = leader_trait_expertise_industry
			}
		}
		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}
}

#Centralized Power Developments
pw_tech_centralized_power_developments = {
	area = physics
	category = { computing }
	tier = 5
	cost = @pw_tech_cost_infra
	prerequisites = {
		pw_tech_elitist_urbanism
	}
	weight = @tier4weight3

	potential = {
		is_gestalt = no
		tec_pw_is_authoritarian = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = physics
				has_trait = leader_trait_expertise_computing
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = physics
				has_trait = leader_trait_spark_of_genius
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = physics
				has_trait = leader_trait_curator
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_authoritarian = no
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_authoritarian
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_aristocratic_elite
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_technocracy
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_exalted_priesthood
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_merchant_guilds
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = physics
				has_trait = leader_trait_expertise_computing
			}
		}
		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}
}

#Central Council -> Ambassador Chambers
pw_tech_central_council_ambassador_chambers = {
	area = society
	category = { statecraft }
	tier = 5
	cost = @pw_tech_cost_infra
	prerequisites = {
		pw_tech_elitist_urbanism
	}
	weight = @tier4weight3

	potential = {
		is_gestalt = no
		tec_pw_is_authoritarian = yes
		is_xenophile = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_authoritarian = no
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_authoritarian
		}

		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_xenophile
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_public_relations_specialists
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_diplomatic_corps
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_merchant_guilds
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}
}

#Central Council -> Internal Affairs
pw_tech_central_council_internal_affairs = {
	area = society
	category = { statecraft }
	tier = 5
	cost = @pw_tech_cost_infra
	prerequisites = {
		pw_tech_elitist_urbanism
	}
	weight = @tier4weight3

	potential = {
		is_gestalt = no
		tec_pw_is_authoritarian = yes
		is_xenophobe = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_authoritarian = no
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_authoritarian
		}

		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_xenophobe
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_inwards_perfection
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_fanatic_purifiers
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_barbaric_despoilers
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}
}

#Central Council -> Intellectual Circles
pw_tech_central_council_intellectual_circles = {
	area = physics
	category = { computing }
	tier = 5
	cost = @pw_tech_cost_infra
	prerequisites = {
		pw_tech_elitist_urbanism
	}
	weight = @tier4weight3

	potential = {
		is_gestalt = no
		tec_pw_is_authoritarian = yes
		is_materialist = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = physics
				has_trait = leader_trait_expertise_computing
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_authoritarian = no
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_authoritarian
		}

		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_materialist
		}

		modifier = {
			factor = 3
			has_valid_civic = civic_technocracy
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = physics
				has_trait = leader_trait_expertise_computing
			}
		}
		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}
}

#Central Council -> Holy Tribunal
pw_tech_central_council_holy_tribunal = {
	area = society
	category = { statecraft }
	tier = 5
	cost = @pw_tech_cost_infra
	prerequisites = {
		pw_tech_elitist_urbanism
	}
	weight = @tier4weight3

	potential = {
		is_gestalt = no
		tec_pw_is_authoritarian = yes
		is_spiritualist = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_authoritarian = no
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_authoritarian
		}

		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_spiritualist
		}

		modifier = {
			factor = 2
			has_valid_civic = civic_exalted_priesthood
		}

		modifier = {
			factor = 2
			has_valid_civic = civic_imperial_cult
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_death_cult
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_gospel_of_the_masses
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}
}

#Central Council -> Ballroom
pw_tech_central_council_ballroom = {
	area = society
	category = { statecraft }
	tier = 5
	cost = @pw_tech_cost_infra
	prerequisites = {
		pw_tech_elitist_urbanism
	}
	weight = @tier4weight3

	potential = {
		is_gestalt = no
		tec_pw_is_authoritarian = yes
		is_pacifist = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_authoritarian = no
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_authoritarian
		}

		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_pacifist
		}

		modifier = {
			factor = 2
			has_valid_civic = civic_inwards_perfection
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_agrarian_idyll
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}
}

#Central Council -> War Room
pw_tech_central_council_war_room = {
	area = society
	category = { military_theory }
	tier = 5
	cost = @pw_tech_cost_infra
	prerequisites = {
		pw_tech_elitist_urbanism
	}
	weight = @tier4weight3

	potential = {
		is_gestalt = no
		tec_pw_is_authoritarian = yes
		is_militarist = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_military_theory
			}
		}

		modifier = {
			factor = 0
			tec_pw_is_authoritarian = no
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_authoritarian
		}

		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_militarist
		}

		modifier = {
			factor = 2
			has_valid_civic = civic_warrior_culture
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_nationalistic_zeal
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_private_military_companies
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_naval_contractors
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_military_theory
			}
		}
		modifier = {
			factor = 5
			any_owned_planet = {
				has_active_building = pw_building_forbidden_city
			}
		}
	}
}

#Reanimated Armies decision:
pw_tech_march_of_the_dead = {
	area = society
	category = { military_theory }
	tier = 5
	cost = @pw_tech_cost_3
	prerequisites = {
		pw_tech_parades_of_supremacy
	}
	weight = @tier5weight1

	potential = {
		is_gestalt = no
		is_militarist = yes
		tec_is_reanimator_empire = yes
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_military_theory
			}
		}

		modifier = {
			factor = 0
			is_militarist = no
		}

		modifier = {
			factor = 2.5
			has_ethic = ethic_fanatic_militarist
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 3
			any_owned_planet = {
				has_active_building = pw_building_martial_avenue
			}
		}

		modifier = {
			factor = 0
			is_at_war = yes
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_military_theory
			}
		}
	}
}

# Unhallowed Necropolis
pw_tech_worldly_mausoleums = {
	area = society
	category = { new_worlds }
	tier = 4
	cost = @pw_tech_cost_3
	prerequisites = {
		pw_tech_planetary_mega_engineering
		tech_tomb_world_adaption
	}
	weight = @tier5weight2
	is_rare = yes

	potential = {
		OR = {
			#Has any of the civics:
			tec_is_memorialist_empire = yes
			tec_is_death_cult = yes
			tec_is_reanimator_empire = yes

			#Has a tomb world:
			any_owned_planet = {
				OR = {
					tec_is_nuked_world = yes
					tec_is_relic_world = yes
				}
			}
		}
	}

	weight_modifier = {
		factor = @pw_tech_weight_mod

		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_new_worlds
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = society
				has_trait = leader_trait_spark_of_genius
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = society
				has_trait = leader_trait_curator
			}
		}

		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}

		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = pw_tech_worldly_mausoleums }
			}
		}

		modifier = {
			factor = 1.5
			has_ethic = ethic_spiritualist
		}

		modifier = {
			factor = 2
			has_ethic = ethic_fanatic_spiritualist
		}

		modifier = {
			factor = 1.5
			OR = {
				has_valid_civic = civic_memorialist
				has_valid_civic = civic_hive_memorialist
				has_valid_civic = civic_machine_memorialist
				has_valid_civic = civic_death_cult
				has_valid_civic = civic_death_cult_corporate
				has_valid_civic = civic_reanimated_armies
			}
		}

		modifier = {
			factor = 1.5
			has_valid_civic = civic_exalted_priesthood
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 2
			has_ascension_perk = ap_consecrated_worlds
		}

		modifier = {
			factor = 1.2
			count_owned_planet = {
				count > 1
				limit = {
					OR = {
						tec_is_nuked_world = yes
						tec_is_relic_world = yes
					}
				}
			}
		}

		modifier = {
			factor = 1.5
			count_owned_planet = {
				count > 2
				limit = {
					OR = {
						tec_is_nuked_world = yes
						tec_is_relic_world = yes
					}
				}
			}
		}

		modifier = {
			factor = 1.8
			count_owned_planet = {
				count > 3
				limit = {
					OR = {
						tec_is_nuked_world = yes
						tec_is_relic_world = yes
					}
				}
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_new_worlds
			}
		}
	}
}

# Unhallowed Necropolis
pw_tech_cyberecology = {
	area = society
	category = { new_worlds }
	tier = 4
	cost = @pw_tech_cost_3
	prerequisites = {
		pw_tech_planetary_mega_engineering
		tech_ecological_adaptation
	}
	weight = @tier5weight2
	is_rare = yes

	potential = {
		OR = {
			#Has a gaia or hive world:
			any_owned_planet = {
				OR = {
					tec_is_perfect_planet = yes
					tec_is_hive_world = yes
				}
			}
		}
	}

	weight_modifier = {
		factor = @pw_tech_weight_mod

		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_new_worlds
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = society
				has_trait = leader_trait_spark_of_genius
			}
		}

		modifier = {
			factor = 1.5
			research_leader = {
				area = society
				has_trait = leader_trait_curator
			}
		}

		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}

		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = pw_tech_cyberecology }
			}
		}

		modifier = {
			factor = 1.5
			OR = {
				has_valid_civic = civic_environmentalist
				has_valid_civic = civic_idyllic_bloom
				has_valid_civic = civic_hive_ascetic
				has_valid_civic = civic_hive_idyllic_bloom
			}
		}

		modifier = {
			factor = 2
			has_ascension_perk = pw_ap_planetary_wonders
		}

		modifier = {
			factor = 2
			OR = {
				has_ascension_perk = ap_world_shaper
				has_ascension_perk = ap_hive_worlds
			}
		}

		modifier = {
			factor = 1.2
			count_owned_planet = {
				count > 1
				limit = {
					OR = {
						is_planet_class = pc_gaia
						tec_is_hive_world = yes
					}
				}
			}
		}

		modifier = {
			factor = 1.5
			count_owned_planet = {
				count > 2
				limit = {
					OR = {
						is_planet_class = pc_gaia
						tec_is_hive_world = yes
					}
				}
			}
		}

		modifier = {
			factor = 1.8
			count_owned_planet = {
				count > 3
				limit = {
					OR = {
						is_planet_class = pc_gaia
						tec_is_hive_world = yes
					}
				}
			}
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_new_worlds
			}
		}
	}
}

#Unique branch office techs
pw_tech_exploitation_of_belligerence = {
	area = society
	category = { statecraft }
	tier = 3
	cost = @pw_tech_cost_1
	weight = @tier3weight2
	prerequisites = { pw_tech_xenoeconomy }

	potential = {
		is_megacorp = yes
		any_playable_country = {
			has_commercial_pact = root
			OR = {
				is_militarist = yes
				is_pacifist = yes
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}

		modifier = {
			factor = 1.5
			OR = {
				is_militarist = yes
				is_pacifist = yes
			}
		}

		modifier = {
			factor = 1.5
			OR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_fanatic_pacifist
			}
		}

		modifier = {
			factor = 2
			has_ascension_perk = ap_universal_transactions
		}

		modifier = {
			factor = 1.2
			num_commercial_pacts > 0
		}

		modifier = {
			factor = 1.5
			num_commercial_pacts > 1
		}

		modifier = {
			factor = 1.8
			num_commercial_pacts > 2
		}

		modifier = {
			factor = 2
			num_commercial_pacts > 3
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
	}
}

pw_tech_exploitation_of_philosophy = {
	area = society
	category = { statecraft }
	tier = 3
	cost = @pw_tech_cost_1
	weight = @tier3weight2
	prerequisites = { pw_tech_xenoeconomy }

	potential = {
		is_megacorp = yes
		any_playable_country = {
			has_commercial_pact = root
			OR = {
				is_materialist = yes
				is_spiritualist = yes
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}

		modifier = {
			factor = 1.5
			OR = {
				is_materialist = yes
				is_spiritualist = yes
			}
		}

		modifier = {
			factor = 1.5
			OR = {
				has_ethic = ethic_fanatic_materialist
				has_ethic = ethic_fanatic_spiritualist
			}
		}

		modifier = {
			factor = 2
			has_ascension_perk = ap_universal_transactions
		}

		modifier = {
			factor = 1.2
			num_commercial_pacts > 0
		}

		modifier = {
			factor = 1.5
			num_commercial_pacts > 1
		}

		modifier = {
			factor = 1.8
			num_commercial_pacts > 2
		}

		modifier = {
			factor = 2
			num_commercial_pacts > 3
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
	}
}

pw_tech_exploitation_of_diplomacy = {
	area = society
	category = { statecraft }
	tier = 3
	cost = @pw_tech_cost_1
	weight = @tier3weight2
	prerequisites = { pw_tech_xenoeconomy }

	potential = {
		is_megacorp = yes
		any_playable_country = {
			has_commercial_pact = root
			OR = {
				is_xenophile = yes
				is_xenophobe = yes
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}

		modifier = {
			factor = 1.5
			OR = {
				is_xenophile = yes
				is_xenophobe = yes
			}
		}

		modifier = {
			factor = 1.5
			OR = {
				has_ethic = ethic_fanatic_xenophile
				has_ethic = ethic_fanatic_xenophobe
			}
		}

		modifier = {
			factor = 2
			has_ascension_perk = ap_universal_transactions
		}

		modifier = {
			factor = 1.2
			num_commercial_pacts > 0
		}

		modifier = {
			factor = 1.5
			num_commercial_pacts > 1
		}

		modifier = {
			factor = 1.8
			num_commercial_pacts > 2
		}

		modifier = {
			factor = 2
			num_commercial_pacts > 3
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
	}
}

pw_tech_exploitation_of_hierarchy = {
	area = society
	category = { statecraft }
	tier = 3
	cost = @pw_tech_cost_1
	weight = @tier3weight2
	prerequisites = { pw_tech_xenoeconomy }

	potential = {
		is_megacorp = yes
		any_playable_country = {
			has_commercial_pact = root
			OR = {
				tec_pw_is_elitist_or_competitive = yes
				tec_pw_is_pluralist_or_socialism = yes
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = value:tech_weight_likelihood
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}

		modifier = {
			factor = 1.5
			OR = {
				tec_pw_is_authoritarian = yes
				tec_pw_is_pluralist_or_socialism = yes
			}
		}

		modifier = {
			factor = 1.5
			OR = {
				has_ethic = ethic_fanatic_authoritarian
				has_ethic = ethic_fanatic_egalitarian
			}
		}

		modifier = {
			factor = 2
			has_ascension_perk = ap_universal_transactions
		}

		modifier = {
			factor = 1.2
			num_commercial_pacts > 0
		}

		modifier = {
			factor = 1.5
			num_commercial_pacts > 1
		}

		modifier = {
			factor = 1.8
			num_commercial_pacts > 2
		}

		modifier = {
			factor = 2
			num_commercial_pacts > 3
		}
	}

	ai_weight = {
		factor = @pw_tech_ai_weight
		modifier = {
			factor = 2
			research_leader = {
				area = society
				has_trait = leader_trait_expertise_statecraft
			}
		}
	}
}
